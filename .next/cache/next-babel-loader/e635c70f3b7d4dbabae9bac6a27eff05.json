{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/taeeun/Desktop/Programming/Projects/MrDaeBak/MrDaeBak_front/components/OrderForm/OrderInfoForm.js\";\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { FormContainer, ContentCard, InfoContainer, NameCard, Input, MealNum, SubmitBtn } from './style';\nimport useInput from '../../hooks/useInput';\nimport { goToResult } from '../../reducers/order';\n\nconst OrderInfoForm = () => {\n  const [address, onChangeAddress] = useInput('');\n  const [paymentInfo, onChangePaymentInfo] = useInput('');\n  const {\n    0: mealNum,\n    1: setMealNum\n  } = useState('');\n  const selectRef = useRef(null);\n  const dispatch = useDispatch();\n  const {\n    dinnerId,\n    dinnerName,\n    dinnerStyle,\n    option,\n    special,\n    price,\n    stylePrice,\n    optionPrice,\n    time\n  } = useSelector(state => state.order);\n  const {\n    userInfo\n  } = useSelector(state => state.user);\n  const onChangeMealNum = useCallback(e => {\n    setMealNum(e.target.value);\n  }, []);\n  const submitOrder = useCallback(async () => {\n    if (address === '') {\n      alert('주소를 입력해주세요.');\n      return;\n    } else if (paymentInfo === '') {\n      alert('카드 정보를 입력해주세요.');\n      return;\n    } else if (mealNum === '') {\n      alert('식사 인원을 선택해주세요.');\n      return;\n    }\n\n    const orderInfo = {\n      userId: userInfo.userId,\n      mealNum: parseInt(mealNum),\n      resTime: time,\n      address,\n      paymentInfo,\n      dinnerInfo: {\n        dinnerId,\n        dinnerName,\n        dinnerStyle,\n        options: [...option]\n      }\n    };\n    await axios.post('/order', orderInfo).then(res => {\n      if (res.data.success === 'success') {\n        dispatch(goToResult());\n      } else {\n        alert('주문에 실패했습니다.');\n      }\n    }).catch(err => console.error(err));\n  }, [address, paymentInfo, mealNum]);\n  useEffect(() => {\n    if (special === 'true') {\n      setMealNum('2');\n      selectRef.current.setAttribute('disabled', 'disabled');\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ContentCard, {\n      style: {\n        flexDirection: 'column',\n        padding: '50px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(InfoContainer, {\n        style: {\n          margin: '15px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NameCard, {\n          style: {\n            fontSize: '1.3rem'\n          },\n          children: \"\\uC8FC\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: address,\n          onChange: onChangeAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InfoContainer, {\n        style: {\n          margin: '15px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NameCard, {\n          style: {\n            fontSize: '1.3rem'\n          },\n          children: \"\\uCE74\\uB4DC\\uBC88\\uD638\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: paymentInfo,\n          onChange: onChangePaymentInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InfoContainer, {\n        style: {\n          margin: '15px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NameCard, {\n          style: {\n            fontSize: '1.3rem'\n          },\n          children: \"\\uC2DD\\uC0AC \\uC778\\uC6D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MealNum, {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            ref: selectRef,\n            value: mealNum,\n            onChange: onChangeMealNum,\n            style: {\n              width: '60px',\n              height: '25px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\uC120\\uD0DD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"1\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"2\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"3\",\n              children: \"3\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"4\",\n              children: \"4\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), special === 'true' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"* \\uD574\\uB2F9 \\uBA54\\uB274\\uB294 2\\uC778 \\uC8FC\\uBB38\\uB9CC \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InfoContainer, {\n        style: {\n          margin: '15px 0',\n          borderTop: '1px solid #acaaa9',\n          justifyContent: 'flex-end',\n          padding: '30px 20px 0'\n        },\n        children: /*#__PURE__*/_jsxDEV(NameCard, {\n          children: [\"\\uACB0\\uC81C \\uC608\\uC815 \\uAE08\\uC561 : \", price + stylePrice + optionPrice, \"\\uC6D0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SubmitBtn, {\n      className: \"btn-hover\",\n      onClick: submitOrder,\n      children: \"\\uC8FC\\uBB38\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\nexport default OrderInfoForm;","map":{"version":3,"sources":["/Users/taeeun/Desktop/Programming/Projects/MrDaeBak/MrDaeBak_front/components/OrderForm/OrderInfoForm.js"],"names":["React","useState","useCallback","useEffect","useRef","useDispatch","useSelector","axios","FormContainer","ContentCard","InfoContainer","NameCard","Input","MealNum","SubmitBtn","useInput","goToResult","OrderInfoForm","address","onChangeAddress","paymentInfo","onChangePaymentInfo","mealNum","setMealNum","selectRef","dispatch","dinnerId","dinnerName","dinnerStyle","option","special","price","stylePrice","optionPrice","time","state","order","userInfo","user","onChangeMealNum","e","target","value","submitOrder","alert","orderInfo","userId","parseInt","resTime","dinnerInfo","options","post","then","res","data","success","catch","err","console","error","current","setAttribute","flexDirection","padding","margin","fontSize","width","height","borderTop","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\n\nimport { FormContainer, ContentCard, InfoContainer, NameCard, Input, MealNum, SubmitBtn } from './style';\nimport useInput from '../../hooks/useInput';\nimport { goToResult } from '../../reducers/order';\n\nconst OrderInfoForm = () => {\n    const [address, onChangeAddress] = useInput('');\n    const [paymentInfo, onChangePaymentInfo] = useInput('');\n    const [mealNum, setMealNum] = useState('');\n    const selectRef = useRef(null);\n    const dispatch = useDispatch();\n    const { dinnerId, dinnerName, dinnerStyle, option,\n            special, price, stylePrice, optionPrice, time } = useSelector(state => state.order);\n    const { userInfo } = useSelector(state => state.user);\n\n    const onChangeMealNum = useCallback((e) => {\n        setMealNum(e.target.value);\n    }, []);\n\n    const submitOrder = useCallback(async () => {\n        if(address === '') {\n            alert('주소를 입력해주세요.');\n            return;\n        } else if(paymentInfo === '') {\n            alert('카드 정보를 입력해주세요.');\n            return;\n        } else if(mealNum === '') {\n            alert('식사 인원을 선택해주세요.');\n            return;\n        }\n\n        const orderInfo = {\n            userId: userInfo.userId,\n            mealNum: parseInt(mealNum),\n            resTime: time,\n            address,\n            paymentInfo,\n            dinnerInfo: {\n                dinnerId,\n                dinnerName,\n                dinnerStyle,\n                options: [...option],\n            }\n        }\n\n        await axios.post('/order', orderInfo)\n            .then(res => {\n                if(res.data.success === 'success') {\n                    dispatch(goToResult());\n                } else {\n                    alert('주문에 실패했습니다.')\n                }\n            })\n            .catch(err => console.error(err));\n    }, [address, paymentInfo, mealNum]);\n\n    useEffect(() =>{\n        if(special === 'true') {\n            setMealNum('2');\n            selectRef.current.setAttribute('disabled', 'disabled');\n        }   \n    }, []);\n\n    return (\n        <FormContainer>\n            <ContentCard style={{flexDirection:'column', padding:'50px 0'}}>\n                <InfoContainer style={{margin:'15px 0'}}>\n                    <NameCard style={{fontSize: '1.3rem'}}>주소</NameCard>\n                    <Input type=\"text\" value={address} onChange={onChangeAddress} />\n                </InfoContainer>\n                <InfoContainer style={{margin:'15px 0'}}>\n                    <NameCard style={{fontSize: '1.3rem'}}>카드번호</NameCard>\n                    <Input type=\"text\" value={paymentInfo} onChange={onChangePaymentInfo} />\n                </InfoContainer>\n                <InfoContainer style={{margin:'15px 0'}}>\n                    <NameCard style={{fontSize: '1.3rem'}}>식사 인원</NameCard>\n                    <MealNum>\n                        <select \n                            ref={selectRef}\n                            value={mealNum} \n                            onChange={onChangeMealNum} \n                            style={{\n                                width: '60px',\n                                height: '25px'\n                            }}>\n                            <option value=\"\">선택</option>\n                            <option value=\"1\">1인</option>\n                            <option value=\"2\">2인</option>\n                            <option value=\"3\">3인</option>\n                            <option value=\"4\">4인</option>\n                        </select>\n                    </MealNum>\n                </InfoContainer>\n                {(special === 'true') &&\n                <div>* 해당 메뉴는 2인 주문만 가능합니다</div>}\n                <InfoContainer style={{\n                    margin:'15px 0', \n                    borderTop:'1px solid #acaaa9',\n                    justifyContent: 'flex-end',\n                    padding: '30px 20px 0',\n                    }}>\n                        <NameCard>\n                            결제 예정 금액 : {price+stylePrice+optionPrice}원\n                        </NameCard>\n                </InfoContainer>\n            </ContentCard>\n            <SubmitBtn className=\"btn-hover\" onClick={submitOrder}>주문하기</SubmitBtn>\n        </FormContainer>\n    );\n};\n\nexport default OrderInfoForm;"]},"metadata":{},"sourceType":"module"}